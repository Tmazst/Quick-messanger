<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Quick Messanger (QM) allows companies and professionals across the globe to connect, exchange messages,and share business information in a both private & public, organized environment.">
    <meta name="key words" content="Quick Messanger (QM) is a secure, fast and reliable business communication and networking platform.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald:300,400,700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="static/css/styles.css" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bs_stylesheet.css') }}" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <meta name="theme-color" content="#EF4036"/>
    <link rel="icon" href="{{url_for('static', filename='icons/icon_144x144.png')}}" type="image/png">
    <link rel="icon" href="{{url_for('static', filename='icons/icon_192x192.png')}}" type="image/png">
    <link rel="icon" href="{{url_for('static', filename='icons/icon_512x512.png')}}" type="image/png">
    <link rel="apple-touch-icon" href="{{url_for('static', filename='icons/icon_144x144.png')}}" type="image/png">
    <link rel="apple-touch-icon" href="{{url_for('static', filename='icons/icon_192x192.png')}}" type="image/png">
    <link rel="apple-touch-icon" href="{{url_for('static', filename='icons/icon_512x512.png')}}" type="image/png">
    <link rel="apple-touch-icon" href="/static/icons/icon-192x192.png">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <link rel="icon" type="image/png" sizes="192x192" href="{{ url_for('static', filename='icons/512x512.png') }}">
    <link rel="icon" type="image/png" sizes="512x512" href="{{ url_for('static', filename='icons/512x512.png') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/512x512.png') }}">
    <title>Quick Messager - Business Connect</title>
    <link rel="icon" type="image/png" href="static/icons/rel_link_icon.png">

    <div class="topbar">
        <div class="top-bar-left">
            <img id="main-logo" src="{{ url_for('static', filename='images/logo-white.png') }}" alt="Logo" class="logo">
        </div><div style="flex-grow:1"></div>
        <div class="top-bar-right gen-flex">
            <!-- <a href="/download_pwa" class=""> -->
            <div style="display: none;" class="app-dowload-container gen-flex">
                <div class="app-download-icon gen-flex">
                    <button id="pwa-install-btn" class="top-bar-link pwa-install-btn gen-flex"><img src="{{ url_for('static', filename='icons/download-pwa-icon.png') }}" alt="Download App" class="app-download-icon-img"> <span>Install Quick Messanger</span></button>
                </div>
            </div>
            <!-- </a> -->
            <!-- <a href="/subscribe" class="top-bar-link ">Subscribe</a> -->
        </div>
        <button id="register-mobile" onclick="window.location.href='/register'" class="btns">Register</button>
    </div>
    <style>
        .nav-message-text{
            font-family: "Montserrat", "Arial", "Helvetica Neue", Helvetica, sans-serif !important;
            font-size: 13px !important;
            width: 100%;
        }
        .active-tab{
            margin-right:-20px;
            border-left: 3px solid #EF4036 !important;
            border-bottom-right-radius: 0;
            border-top-right-radius: 0;
            background-color: #f1f1f1 !important;

        }
    </style>
<!-- <button class="menu burger">Menu</button> -->
</head>
<body>
    {% block replyunit%}
    {%endblock%}
    {% block about%}
    {%endblock%} 
    <button style="z-index:1900;display:none" onclick="openQMenu()" id="quick-menu-btn">Quick Menu</button>
    <!-- <div style="display: none;z-index:1900;width:max-content" id="download-icon-" class="app-nav-icons gen-flex">
        <img src="{{ url_for('static', filename='icons/download-pwa-icon.png') }}" alt="Logo" class="app-nav-icon">
        <small style="color:white">Install App</small>
    </div> -->
    <!-- <div style="z-index:1900;display:none;top:85px" id="quick-menu-btn" onclick="openQMenu()" class="menu-icon">
        <div style="z-index:1905;" class="stroke"></div>
        <div style="z-index:1905;" class="stroke"></div>
        <div style="z-index:1905;" class="stroke"></div>
    </div> -->
    <div id="global-loader" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:99999;background:rgba(255,255,255,0.85);align-items:center;justify-content:center;flex-direction:column;">
        <div style="margin-bottom:20px;">
            <svg width="60" height="60" viewBox="0 0 50 50">
                <circle cx="25" cy="25" r="20" fill="none" stroke="#EF4036" stroke-width="5" stroke-linecap="round" stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)">
                    <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite"/>
                </circle>
            </svg>
        </div>
        <div style="font-family:Montserrat,sans-serif;font-size:1.2em;color:#EF4036;">Please wait...</div>
    </div>
   
    <!-- Mobile Quick Menu  -->
    <div style="display:none" class="mobile-quick-menu gen-flex-col">
        <img class="quick-me-logo" src="static/images/logo-icon-white.png" />
        <div class="gen-flex"><img class="quick-esw-logo" src="static/images/eswatini_flag.png" />
        <div style="color:#5a5a5a;text-shadow: #919191;">QM - Eswatini</div></div>
         <h1 style="margin-top:-10px;color:#EF4036;text-shadow: #919191;">Quick Menu</h1>
        <div class="gen-flex">
            <div id="link-1"  onclick="window.location.href='/business_community'" class="side-nav-item gen-flex">
                <img src="static/icons/business-comm-icon.png" />
                <div  class="link-title gen-flex-col">
                    <span class="nav-link" >Business Community</span>
                    <!-- <small>Find Small, Big Enteprises</small> -->
                </div>
            </div>
            <div id="link-1"  onclick="window.location.href='/reply_unit'" class="side-nav-item gen-flex">
                <img src="static/icons/qm-messaging-icon.png" />
                <div  class="link-title gen-flex-col">
                    <span class="nav-link" >Inbox</span>
                    <!-- <small>Responses for Equiries</small> -->
                </div>
            </div>
        </div>
        <div class="gen-flex">
            <div id="link-2" onclick="window.location.href='/adverts'" class="side-nav-item gen-flex">
                <img src="static/icons/advert-icon.png" />
                <div class="link-title gen-flex-col">
                    <span class="nav-link" href="">Adverts</span>
                    <!-- <small>Explore products and services</small> -->
                </div>
            </div>
            <div id="link-3" onclick="window.location.href='/company_stories'" class="side-nav-item gen-flex">
                <img src="static/icons/business-news-icon.png" />
                <div class="link-title gen-flex-col">
                    <span class="nav-link" >Companies</span>
                    <span class="nav-link" >News & Events</span>
                    <!-- <small>Explore Business Statuses</small> -->
                </div> 
            </div>
        </div>
        <button onclick="closeQMenu()" class="qm-exit">Exit</button>
    </div>

    <div id="notification-container" class="notification-container"></div>
    <!-- Login Modal (hidden by default) -->
    <div style="z-index: 2000;" id="alert-confirm" class="login-modal-bg gen-flex-col">
        <div style="justify-content: flex-start;" class="login-modal gen-flex-col">
            <div>Welcome:</div>
            <div id="user-name"></div>
            <a id="login"><div class="btns gen-flex">Continueüëç</div></a>
            <a id="go-register" style="display: none;" ><div onclick="window.location.href='/register'" class="btns gen-flex">Register</div></a>
        </div>
    </div>

    <!-- Recovery Modal (hidden by default) -->
    <div id="recovery-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.7); z-index:9999; align-items:center; justify-content:center;">
        <div style="background:#fff; padding:2em; border-radius:10px; max-width:400px; margin:auto;">
            <h2 style="color:#EF4036">Backup Your Account</h2>
            <p>Save your recovery file and key below. You will need them to restore your account if you lose access.</p>
            <div><br>
            <b>Recovery Key:</b>
            <div id="recovery-key" style="font-family:monospace; font-size:1.2em; margin:0.5em 0;"></div>
                <button class="btns"  id="copy-recovery-key">Copy Key</button>
            </div><br><br>
            <b>Save Recovery File:</b><br>
            <button class="btns" id="download-recovery-file">Download Recovery File</button>
            <br><br>
            <button style="padding:7px;border-radius: 15px;background: rgb(50, 50, 250);" class="btns"  onclick="closeRefresh()">Continue</button>
        </div>
    </div>
    
    <div style="width:100%  !important;gap:0" class="gen-flex navigation-main">
        <!-- Main App Navigation Bar  -->
        <div style="padding-top:60px" class="app-nav-bar-left">
            <div  onclick="openMenuFunc()" class="menu-icon">
                <div class="stroke"></div>
                <div class="stroke"></div>
                <div class="stroke"></div>
            </div>
            <a href="/"><div class="app-nav-icons gen-flex">
                <img src="{{ url_for('static', filename='icons/home-icon.png') }}" alt="Logo" class="app-nav-icon">
                <div class="nav-label">Home</div>
            </div></a>
            <a href="/company_account"><div class="app-nav-icons gen-flex">
                <img src="{{ url_for('static', filename='icons/profile-icon.png') }}" alt="Logo" class="app-nav-icon">
                <div class="nav-label">Account</div>
            </div></a>
            <a href="/about"><div class="app-nav-icons gen-flex">
                <img src="{{ url_for('static', filename='icons/info-icon.png') }}" alt="Logo" class="app-nav-icon">
                <div class="nav-label">Info</div>
            </div></a>
            <a href="/pricing"><div class="app-nav-icons gen-flex">
                <img src="{{ url_for('static', filename='icons/subscriptions-icon.png') }}" alt="Logo" class="app-nav-icon">
                <div class="nav-label">Payment Plans</div>
            </div></a>
            <div style="display: none;" id="download-icon-2" class="app-nav-icons gen-flex">
                <img src="{{ url_for('static', filename='icons/download-pwa-icon.png') }}" alt="Logo" class="app-nav-icon">
                <div class="nav-label">Install App</div>
            </div>
            {%if current_user.is_authenticated%}
            <div style="" id="open-reply-unit"  class="app-nav-icons gen-flex">
                <img  style="height:32px" src="static/icons/mini-window.png" class="app-nav-icon" />
                <div class="nav-label">Open mini-window</div>
            </div>
            {%endif%}
            
        </div>

        <!-- Container for Chats Nav & Content Section  -->
        <div style="gap:0px;" class="left-main gen-flex">
            <!-- Chats & App Navigation  -->
            <div class="left-side-section-container">
                <div class="side-section gen-flex-col">
                    <!-- <a href="/compose"> -->
                        <div onclick="window.location.href='/compose'" style="justify-content: flex-start;cursor: pointer;" class="compose-message gen-flex">
                            <div class="compose-message-icon gen-flex"><img src="{{ url_for('static', filename='icons/compose-icon.png') }}" alt="icon" class="compose-message-icon"></div>
                            <span class="compose-message-label">Compose</span>
                        </div>
                    <!-- </a> -->

                    <div class="side-navbar-nav gen-flex-col">
                        <!-- Messages Button  -->
                        <div id="navlink-message" class="side-nav-item active gen-flex-col">
                            <div style="justify-content: flex-start !important; width: 100%;" class=" gen-flex">
                                <img src="static/icons/qm-messaging-icon.png" />
                                <div style="align-items: flex-start;" onclick="openAndCloseMsgs(event)" class="link-title gen-flex-col">
                                    <span class="nav-link" >Messages</span>
                                    <small>Inbox Messages</small>
                                </div>
                            </div>
                            {% for msg in messages %}
                                    {%set my_msgs = msg.key%}
                                    {%if current == my_msgs and not msg.sender == current%}
                                        <div class="messages-count gen-flex"><span>{{loop.index}}</span></div>
                                    {%endif%}
                            {%endfor%}
                            <div class="scorllable-messages gen-flex-col">
                                <div class="messages-container">
                                    {% for msg in messages %}
                                    {%set the_sender = msg.sender%}
                                    {%set my_msgs = msg.key%}
                                    {%if current == my_msgs%}
                                    
                                            
                                                {%if msg.sender == current%}<!--sent messages-->
                                                {%set rec_usrnm = usrn.query.filter_by(username=msg.receiver).first()%}
                                                <div onclick="window.location.href='/get_messages?key={{rec_usrnm.username}}'" id="messages-inbox-cont"  class="message-item gen-flex-col">
                                                    <!-- Name, Logo, and Time  -->
                                                    <div  class="message-item-header-left gen-flex">
                                                        <div onclick="window.location.href='/get_messages?key={{rec_usrnm.username}}'" class="message-item-header-left gen-flex">
                                                            {% set name = rec_usrnm.user_details[0].name %}
                                                            {%if rec_usrnm.company_details[0].company_name  %}
                                                                <img src="{{ url_for('static', filename='uploads/'+ rec_usrnm.company_details[0].image) }}" alt="Logo" class="message-item-icon">
                                                            {%else%}
                                                                <img src="{{ url_for('static', filename='uploads/'+ rec_usrnm.user_details[0].image) }}" alt="Logo" class="message-item-icon">
                                                            {%endif%}
                                                            {% if name | length >= 12 %}
                                                                <span class="message-item-name">{{ name[:12] }}...-</span>
                                                            {% else %}
                                                                <span class="message-item-name">{{ name }}-</span>
                                                            {% endif %}
                                                            <div id="sent-icon" class="inbox-icon">Sent</div>
                                                        </div>
                                                    </div>
                                                        <!-- Message Caption  -->
                                                        {%if msg.message | length >= 20 %}
                                                            <div data-encrypted="{{msg.message}}" class="nav-message-text">{{ msg.message[:20] }}...</div>
                                                        {% else %}
                                                            <div data-encrypted="{{msg.message}}" class="nav-message-text">{{ msg.message }}</div>
                                                        {% endif %}
                                                        <span class="message-item-time">{{msg.date.strftime("%d %b %H:%M" )}}</span>
                                                    
                                                </div>
                                                        
                                                {%elif msg.receiver == current%}<!--received messages-->
                                                {%set send_usrnm = usrn.query.filter_by(username=msg.sender).first()%}
                                                <div onclick="window.location.href='/get_messages?key={{send_usrnm.username}}'" id="messages-inbox-cont"  class="message-item gen-flex-col">
                                                    <!-- Name, Logo, and Time  -->
                                                    <div class="message-item-header-left gen-flex">
                                                        <div  class="message-item-header-left gen-flex">
                                                            
                                                            {% set name = send_usrnm.user_details[0].name %}
                                                            {%if send_usrnm.company_details[0].company_name  %}
                                                                <img src="{{ url_for('static', filename='uploads/'+ send_usrnm.company_details[0].image) }}" alt="Logo" class="message-item-icon">
                                                            {%else%}
                                                                <img src="{{ url_for('static', filename='uploads/'+ send_usrnm.user_details[0].image) }}" alt="Logo" class="message-item-icon">
                                                            {%endif%}
                                                            {% if name | length >= 12 %}
                                                                <span class="message-item-name">{{ name[:12] }}...++</span>
                                                            {% else %}
                                                                <span class="message-item-name">{{ name }}++</span>
                                                            {% endif %}
                                                            <div class="inbox-icon">inbox</div>
                                                        </div>
                                                    </div>
                                                        <!-- Message Caption  -->
                                                        {%if msg.message | length >= 20 %}
                                                            <div data-encrypted="{{msg.message}}" class="nav-message-text">{{ msg.message[:20] }}...</div>
                                                        {% else %}
                                                            <div data-encrypted="{{msg.message}}" class="nav-message-text">{{ msg.message }}</div>
                                                        {% endif %}
                                                        <span class="message-item-time">{{msg.date.strftime("%d %b %H:%M" )}}</span>
                                                    
                                                </div>
                                                {%else%}
                                                <div class="message-item-header-left gen-flex">
                                                    <i>No Messages</i>
                                                </div>
                                                {%endif%}
                        
                                            <div class="filler"></div>
                                            
                                        <!-- </div> -->
                                        
                                    <!-- </div> -->
                                    {%endif%}
                                    {% endfor %}

                                </div>
                            </div>
                        </div>
                        
                        <div id="link-1"  onclick="window.location.href='/business_community'" class="side-nav-item gen-flex">
                            <img src="static/icons/business-comm-icon.png" />
                            <div  class="link-title gen-flex-col">
                                <span class="nav-link" >Business Community</span>
                                <small>Network Pool - Find New Partners</small>
                            </div>
                        </div>
                        <div id="link-2" onclick="window.location.href='/adverts'" class="side-nav-item gen-flex">
                            <img src="static/icons/advert-icon.png" />
                            <div class="link-title gen-flex-col">
                                <span class="nav-link" href="">Adverts</span>
                                <small>Advertise & Promote to the World</small>
                            </div>
                        </div>
                        <div id="link-3" onclick="window.location.href='/company_stories'" class="side-nav-item gen-flex">
                            <img src="static/icons/business-news-icon.png" />
                            <div class="link-title gen-flex-col">
                                <span class="nav-link" >Companies News & Events</span>
                                <small>Share your company‚Äôs status</small>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            <!-- Content Section  -->
            <div class="right-side-section-container">
                <!-- Profile Bar  -->
                <div style="justify-content: flex-start;" class="sub-titles gen-flex">
                    {%if company.image %}
                    <img onclick="window.location.href='/company_account'" src="{{ url_for('static', filename='uploads/'+ company.image) }}" alt="Logo" class="sub-title-logo">
                   {%endif%}
                    <span onclick="window.location.href='/company_account'" style="" id="company-title" style="font-size:18px;font-weight:500">{{company.company_name}}</span>
                    <div class="flash-messages">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                                {% for  category, message in messages %}
                                    <div class="flash-messages alert-{{category}}"> {{ message }}</div>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}
                    </div>
                    <div id="active-tab-desc" class="filler gen-flex">  </div>
                    {%if current%}
                    <div onclick="window.location.href='/user_account'" class="username gen-flex" style="cursor: pointer;">
                        <div class="username-icon-cont gen-flex">
                            {%if usr_obj.image %}
                            <img src="{{ url_for('static', filename='uploads/'+ usr_obj.image) }}" alt="username" class="username-icon">
                            {%endif%}
                        </div>
                        <span id="username-label">{{usr_obj.name}}</span>
                    </div>
                    {%else%}
                    <div onclick="window.location.href='/register'" class="username gen-flex btns">
                        <span class="">Register</span>
                    </div>
                    {%endif%}
                </div>

                <div style="overflow-y: auto; height: calc(100% - 60px);" class="displaying-section"><br>
                    <div style="height: max-content; width: 100%;position: relative;" class="be-scrollable">
                        {% block content %}
                        {% endblock %}
                    </div>
                    <br><br><br> <br><br><br>
                </div>
                
            </div>
        </div>
    </div>
    <!-- <script src="static/js/tempkeys.js" ></script> -->
    <script src="static/js/indexedb.js" ></script>
    <script src="static/js/js_script.js" ></script>
    <script src="static/js/bus_cht.js" ></script>
    <script src="static/js/tempkeys.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    

<script>

function openQMenu(){
    var menu = document.querySelector(".mobile-quick-menu");
    menu.classList.toggle("drop-menu");
}
function closeQMenu(){
    var menu = document.querySelector(".mobile-quick-menu");
    menu.classList.toggle("drop-menu");
}

 document.addEventListener('DOMContentLoaded', function() {
        var navItems = document.querySelectorAll('.side-navbar-nav .side-nav-item, .side-navbar-nav .app-nav-icons');
        var currentPath = window.location.pathname;
        navItems.forEach(function(item) {
            // Try to get the path from the onclick attribute
            var onclick = item.getAttribute('onclick');
            var path = null;
            if (onclick) {
                // Extract the path from: window.location.href='/some_path'
                var match = onclick.match(/window\.location\.href=['"]([^'"]+)['"]/);
                if (match) {
                    path = match[1];
                }
            }
            // If item is an <a> or contains an <a>, use its href
            var link = item.querySelector('a');
            if (link && link.getAttribute('href')) {
                path = link.getAttribute('href');
            }
            // Now compare path to currentPath
            if (path && currentPath === path) {
                navItems.forEach(i => i.classList.remove('active-tab'));
                item.classList.add('active-tab');
                const span = item.querySelector('span');
                document.querySelector("#active-tab-desc").innerHTML = span.textContent;
                console.log("Selected Item: ", span ? span.textContent : '');
            }
        });
    });

    console.log("Check Notification Permission: ",Notification.permission);
    // console.log("SaveIs Called: ");
    var userLabel =document.querySelector("#username-label");
    var goBtn = document.querySelector("#login");

    if (userLabel){
        initDB().then((db) =>{
            // preRegister();
            console.log("db", db.objectStoreNames.contains("keys"));
            console.log("User Found");
            var regMobile = document.querySelector('#register-mobile');
            if(regMobile)(
                regMobile.style.display="none"
            ); 
        });
        }else{
            // initialise DB 
            initDB().then((db) =>{
                console.log("db", db.objectStoreNames.contains("keys"));
                console.log("User Not Found");
                preRegister();
                
                // sessionStorage.setItem("recCredInfo", "NA");
            });
        }

    // Register Service Worker
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register("/service-worker.js")
                .then(function(registration) {
                    console.log('ServiceWorker registration successful:', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed:', err);
                });
        });
        }

    // Function to open the menu
    function openMenuFunc() {
        var navLabels = document.querySelectorAll(".nav-label");
        document.querySelector(".app-nav-bar-left").classList.toggle("open");
        navLabels.forEach(function(label) {
            label.classList.toggle("nav-label-display");
            // label.style.cursor='text';
        });
        // doucument.querySelector(".left-main").classList.toggle("nav-label-display");
    }

    // Function to open/close messages
    function openClose(event) {
        event.stopPropagation();
        const messagesContainer = document.querySelector(".scorllable-messages");
        messagesContainer.classList.toggle("open");
    }

// Universal Progress Indicator
(function() {
    function showLoader() {
        var loader = document.getElementById('global-loader');
        if (loader) loader.style.display = 'flex';
    }
    function hideLoader() {
        var loader = document.getElementById('global-loader');
        if (loader) loader.style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Intercept all <a> clicks (except those with target _blank or download)
        document.body.addEventListener('click', function(e) {
            var el = e.target;
            // Check for <a> tag
            while (el && el.tagName !== 'A' && el !== document.body) el = el.parentElement;
            if (el && el.tagName === 'A' && !el.hasAttribute('target') && !el.hasAttribute('download') && el.href && el.origin === window.location.origin) {
                showLoader();
            }
        }, true);

        // Intercept all .side-nav-item clicks
        var navItems = document.querySelectorAll('.side-nav-item.gen-flex');
        navItems.forEach(function(item) {
            item.addEventListener('click', function(e) {
                showLoader();
            });
        });

        // Show loader on form submit
        document.body.addEventListener('submit', function(e) {
            showLoader();
        }, true);

        // Hide loader when page is loaded
        window.addEventListener('pageshow', hideLoader);
        window.addEventListener('load', hideLoader);
    });

    window.addEventListener('popstate', hideLoader);
})();


 </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/places.js@1.19.0"></script>
</body>
</html>